{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block head %}
{{ super() }}
<!---------------------------------------------->
<!------------ HEAD: Map Dependencies ---------->
<!---------------------------------------------->

<link rel="shortcut icon" href="#"> <!-- To handle the favicon.ico 404 error -->
<link rel="stylesheet" href="/static/css/map.css" />

<!-- For map code referencing map.js -->
<script src="/static/js/map.js"></script>

<!-- For Google maps API key and callback to initMap -->
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCeDkSlpBZoTC5TToXy1tW3hehvfM3xWHQ&callback=initMap"></script>

{% endblock %}


{% block body %}

<main class="container-fluid">

  <!---------------------------------------------->
  <!------------ BODY: Welcome Section ----------->
  <!---------------------------------------------->
  <div class="row text-center">
    <div class="pb-2 mt-2 mb-4 border-bottom" align="center">
      <h1 id="h4-heading">
          {% if current_user.is_authenticated %}
          Welcome, {{ current_user.fname }}
          {% endif %}
      </h1>
    </div>
  </div>

  <!---------------------------------------------->
  <!------------ BODY: Content Section ----------->
  <!---------------------------------------------->
  <div class="container">
    <div class="row">
  
      <!------------------------------------->
      <!------- Card: Lost Pet Section ------>
      <!------------------------------------->
      <div class="col-xs-12 col-md-6 col-lg-3">      
        <section class="lost-pet bg-overlay-index" align=center>

          <!-- Card header -->
          <div class="btn btn-dark">
            <div class="card-header">
              <h5 id="h4-heading">Did you <i>lose</i> your pet?</h5>
            </div>
          </div>

          <!-- Card body -->
          <div class="card-body">
            <div class="lost-pet">
              <br>
              <button type="button" class="btn btn-warning" id="register-button">
                  <a href="/lost_pet" class="link-dark">Register your pet here</a>
              </button>
            </div>

            <!-- Card note -->
            <div class="text-black">
              <br>
              <br>
              <p class="card-text"><i>Marker of your pet's last seen location will be placed on the map</i></p>
            </div>
          </div>

        </section>
      </div> 

      <!------------------------------------->
      <!--- Card: Search Pets by Location --->
      <!------------------------------------->
      <div class="col-xs-12 col-md-6 col-lg-6">
        <section class="search-pet bg-overlay-index" align=center>

          <!-- Card header -->
          <div class="btn btn-dark">
            <div class="card-header">
              <h5 id="h4-heading">Search lost pets in your neighborhood</h5>
            </div>
          </div>

          <!-- Card body -->
          <div class="card-body">
            <div class="geocode-pet-address">
              <br>
              <input id="address" type="textbox" value="Golden Gate Park" />
              <b><input class="btn btn-warning" id="geo_btn" type="button" value="Submit" /></b>
              <button class="btn btn-warning" id="locate-me">or Locate me!</button>
            </div>
            <br>
            <br>
            <p class="card-text"><i>Add an address or location <br> and the map will pan to that area</i></p>
          </div>
 
        </section>
      </div>

      <!------------------------------------->
      <!------ Card: Found Pet Section ------>
      <!------------------------------------->
      <div class="col-xs-12 col-md-6 col-lg-3">
        <section class="found-pet bg-overlay-index" align=center>

          <!-- Card header -->
          <div class="btn btn-dark">
            <div class="card-header">
              <h5 id="h4-heading">Did you <i>find</i> your pet?</h5>
            </div>
          </div>

          <!-- Card body -->
          <div class="card-body">
            <div class="found-pet">
              <br>
              <button type="button" class="btn btn-warning" id="register-button">
                  <a href="/found_pet" class="link-dark">Update pet status here</a>
              </button>
            </div>
            <br>
            <br>
            <p class="card-text"><i>Marker for found pets will be removed from the map</i></p>
          </div>

        </section>
      </div>
    </div> 
  </div> <!-- End of div class="container" -->

  <!------------------------------------->
  <!------ Night Mode (Map) Section ----->
  <!------------------------------------->
  <div class="pb-2 mt-4 border-top" align="center">
    <br>
    <div class="map-night-mode" align="center">
      <button id="custom-style" class="btn btn-info">
          Night Mode
      </button>
    </div>
  </div>

  <!---------------------------------------------->
  <!------------- Display Map Section ------------>
  <!---------------------------------------------->

  <div class="map-section">
    <section class="marker-map" align=center>
        <div class="map">
            <div id="map"></div>
        </div>
    </section>
    <div class="row"><br><br></div> <!-- div for line break-->
    <div class="row"><br><br></div> <!-- div for line break-->
  </div>

</main> <!-- End of main="container-fluid" -->

{% endblock %}
