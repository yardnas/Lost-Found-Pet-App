{% extends 'base.html' %}
{% block title %}Find Lost Neighborhood Pets{% endblock %}

{% block head %}
    <link rel="shortcut icon" href="#">  <!-- To handle the favicon.ico 404 error -->
    <link rel="stylesheet" href="/static/css/map.css"/>

    <!-- For map code referencing map.js -->
    <script src="/static/js/map.js"></script>

    <!-- For google maps API key and callback to initMap-->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCeDkSlpBZoTC5TToXy1tW3hehvfM3xWHQ&callback=initMap"></script>
    
    <!-- For react to import a library called Babel -->
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    
{% endblock %}

{% block body %}

    <!------------------------------------------>
    <!-----  Welcome Body of Dashboard page ---->
    <!------------------------------------------>

    <header align=center>
        <h2>
            {% if current_user.is_authenticated %}
            Welcome, {{ current_user.fname }}
            {% endif %}
        </h2>
    </header>

    <br>
    <hr> <!-- Placeholder until css -->

    <!------------------------------------------>
    <!------  Main Body of Dashboard page ------>
    <!------------------------------------------>
    <main>
        <div class="row">

            <!-- TODO: Split Screen Left -->
            <div class="column" id="split-left">

                <!-------------------------------->
                <!-- Register Pet Form Section --->
                <!-------------------------------->

                <section class="pet-form" align=center>
                    <h3>Did you lose your pet?</h3>
                    <h4>Register your pet here</h4>

                    <div class="register-prompt">
                        <button id="register-button">
                            <a href="/pet_register">Fill out this form</a>
                        </button>
                    </div>

                    <h5 style="color:slategrey">Marker of your pet's last seen location will be placed on the map</h5>
                </section>

                <hr> <!-- Placeholder until css -->

            </div>

            <!-- TODO: Split Screen Right -->
            <div class="column" id="split-right">

                <!-------------------------------->
                <!-- Lost Pet Location Section --->
                <!-------------------------------->

                <section class="pet-address" align=center>
                    <!-- <h3>To find lost pets in your neighborhood, enter a location or address</h3> -->
                    <h3>Find lost pets in your neighborhood?</h3>
                    <h4>Enter your location or address</h4>

                    <div class="geocode-pet-address">
                        <input id="address" type="textbox" value="San Francisco, CA" />
                        <input class="btn" id="geo_btn" type="button" value="Submit" />
                    </div>

                    <br><button id="locate-me">Or locate me!</button>

                    <div class="map-night-mode" align=center>
                        <h5 style="color:slategrey" align=center>Click the markers on the map for lost pets information</h5>
                    </div>

                </section>
            </div>
        </div>

        <hr> <!-- Placeholder until css -->
        <br>

        <!------------------------------------------>
        <!----------- Display Map Section ---------->
        <!------------------------------------------>
        <div class="map-section">
            <section class="marker-map" align=center>

                <div>
                    <!-------------------------------->
                    <!---- Dark Mode Page Section ---->
                    <!-------------------------------->

                    <!-- TODO: Actual implementation + adding night mode to work with clicking Dark mode -->

                    <style>
                        .dark-mode {
                            background-color: black;
                            color: white;
                        }
                    </style>

                    <button onclick="myFunction()">Toggle dark mode</button>

                    <script>
                        function myFunction() {
                        var element = document.body;
                        element.classList.toggle("dark-mode");
                        }
                    </script>

                    <!-------------------------------->
                    <!----- Night Mode Map Section --->
                    <!-------------------------------->

                    <!-- TODO: Intergration with Dark Mode -->

                    <button id="custom-style">
                        Click for Night Mode
                    </button>
                </div>

                <br>

                <div class="map">
                    <div id="map"></div>
                </div>

            </section>
        </div>
    </main>

    <br> <!-- Placeholder <br> until css -->

    <!------------------------------------------>
    <!----------- Logout User Section ---------->
    <!------------------------------------------>    
    
    <!-- TODO: footer is probably not the right tag. May add this to top when CSS in place -->

    <footer> 
        <!-- Logout Section -->
        <section>
            <form action=/logout>
                <label for="logout-submit">Ready to logout?</label>
                <br><br>
                <input type="submit" value="Logout" name="logout" id="logout-submit"></p>
            </form>
        </section>
    </footer>

  
{% endblock %}